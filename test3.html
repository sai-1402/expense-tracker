<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker with Receipt Scanner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5e6d3 0%, #e8c5a0 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .wireframe-container {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 1200px;
        }

        .phone-mockup {
            width: 320px;
            height: 640px;
            background: #1a1a1a;
            border-radius: 30px;
            padding: 8px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            position: relative;
        }

        .screen {
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 22px;
            overflow: hidden;
            position: relative;
            display: none;
        }

        .screen.active {
            display: block;
        }

        .status-bar {
            height: 30px;
            background: #f8f8f8;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
            font-size: 12px;
            font-weight: 500;
        }

        .header {
            background: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #f0f0f0;
        }

        .header h1 {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }

        .header-icon {
            width: 24px;
            height: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .summary-cards {
            background: linear-gradient(135deg, #ff9a56, #ffa726);
            padding: 20px;
            margin: 20px;
            border-radius: 16px;
            display: flex;
            justify-content: space-around;
            color: white;
            box-shadow: 0 4px 12px rgba(255, 154, 86, 0.3);
        }

        .summary-card {
            text-align: center;
        }

        .summary-card h3 {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 4px;
        }

        .summary-card p {
            font-size: 16px;
            font-weight: 600;
        }

        .date-section {
            padding: 15px 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative; /* Needed for positioning the date picker */
        }

        .date-section h2 {
            font-size: 16px;
            color: #333;
        }

        .daily-total {
            font-size: 12px;
            color: #666;
        }

        /* Styles for the hidden date input */
        .date-picker-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0; /* Make it invisible */
            cursor: pointer;
        }


        .transaction-list {
            flex: 1;
            overflow-y: auto;
        }

        .transaction-item {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }

        .transaction-item:hover {
            background: #f8f9fa;
        }

        .transaction-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: #ffeaa7;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 18px;
        }

        .transaction-details {
            flex: 1;
        }

        .transaction-name {
            font-weight: 500;
            color: #333;
            margin-bottom: 2px;
        }

        .transaction-budget {
            font-size: 11px;
            color: #999;
        }

        .transaction-amount {
            font-weight: 600;
            color: #333;
        }

        .transaction-amount.negative {
            color: #e74c3c;
        }

        .transaction-amount.positive {
            color: #27ae60;
        }

        .bottom-nav {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: color 0.2s;
            font-size: 10px;
            color: #999;
        }

        .nav-item.active {
            color: #ff9a56;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .fab {
            position: absolute;
            bottom: 80px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff9a56, #ffa726);
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(255, 154, 86, 0.4);
            transition: transform 0.2s;
        }

        .fab:hover {
            transform: scale(1.1);
        }

        .form-container {
            padding: 20px;
            flex: 1;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        .form-input:focus {
            outline: none;
            border-color: #ff9a56;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .category-item {
            aspect-ratio: 1;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 10px;
            text-align: center;
        }

        .category-item:hover, .category-item.selected {
            border-color: #ff9a56;
            background: #fff5f0;
        }

        .category-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .btn-primary {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #ff9a56, #ffa726);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
        }

        .budget-item {
            display: flex;
            align-items: center;
            padding: 16px 20px;
            border-bottom: 1px solid #f0f0f0;
        }

        .budget-progress {
            flex: 1;
            margin: 0 12px;
        }

        .budget-name {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .progress-bar {
            height: 6px;
            background: #f0f0f0;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 4px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff9a56, #ffa726);
            border-radius: 3px;
            transition: width 0.3s;
        }

        .budget-amounts {
            font-size: 12px;
            color: #666;
        }

        /* Scan Screen Styles */
        .camera-container {
            position: relative;
            margin: 20px;
            height: 300px;
            background: #000;
            border-radius: 16px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .camera-viewfinder {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #333 25%, transparent 25%),
                        linear-gradient(-45deg, #333 25%, transparent 25%),
                        linear-gradient(45deg, transparent 75%, #333 75%),
                        linear-gradient(-45deg, transparent 75%, #333 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
        }

        .scan-overlay {
            position: absolute;
            border: 2px solid #ff9a56;
            border-radius: 12px;
            width: 80%;
            height: 60%;
            border-style: dashed;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .scan-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 20px;
        }

        .scan-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid #fff;
            background: #ff9a56;
            color: white;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .scan-btn:hover {
            transform: scale(1.1);
        }

        .scan-options {
            display: flex;
            justify-content: space-around;
            padding: 0 20px 20px;
        }

        .scan-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 12px;
            border-radius: 12px;
            transition: background 0.2s;
        }

        .scan-option:hover {
            background: #f8f9fa;
        }

        .scan-option-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .scan-option span {
            font-size: 11px;
            color: #666;
        }

        .recent-scans {
            padding: 0 20px;
        }

        .recent-scans h3 {
            font-size: 16px;
            margin-bottom: 12px;
            color: #333;
        }

        .scan-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .scan-item:hover {
            background: #e9ecef;
            transform: translateX(4px);
        }

        .scan-thumbnail {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #ff9a56, #ffa726);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-right: 12px;
            font-size: 16px;
        }

        .scan-details {
            flex: 1;
        }

        .scan-name {
            font-weight: 500;
            color: #333;
            font-size: 14px;
        }

        .scan-date {
            font-size: 11px;
            color: #666;
        }

        .scan-amount {
            font-weight: 600;
            color: #e74c3c;
        }

        .processing {
            animation: processing 1.5s ease-in-out infinite;
        }

        @keyframes processing {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="wireframe-container">
        <div class="phone-mockup">
            <div class="screen active" id="home">

                <div class="header">
                    <div class="header-icon">‚ò∞</div>
                    <h1>Home</h1>
                    <div style="display: flex; gap: 10px;">
                        <div class="header-icon" onclick="alert('Search functionality coming soon!')">üîç</div>
                        <div class="header-icon" onclick="openDatePicker()">üìÖ</div>
                    </div>
                </div>

                <div class="summary-cards">
                    <div class="summary-card">
                        <h3>Expenses</h3>
                        <p>¬•3,000</p>
                    </div>
                    <div class="summary-card">
                        <h3>Income</h3>
                        <p>¬•60,000</p>
                    </div>
                    <div class="summary-card">
                        <h3>Balance</h3>
                        <p>¬•57,000</p>
                    </div>
                </div>

                <div class="date-section">
                    <h2 id="displayDate">üìÖ 14 August 2024</h2>
                    <div class="daily-total">Daily Expenses: ¬•3000</div>
                    <input type="date" id="datePicker" class="date-picker-input" onchange="updateDisplayedDate()">
                </div>

                <div class="transaction-list">
                    <div class="transaction-item">
                        <div class="transaction-icon">üçü</div>
                        <div class="transaction-details">
                            <div class="transaction-name">Fries</div>
                            <div class="transaction-budget">Budget: ¬•10,000 | Remaining: ¬•9,500</div>
                        </div>
                        <div class="transaction-amount negative">-500</div>
                    </div>

                    <div class="transaction-item">
                        <div class="transaction-icon">üö≤</div>
                        <div class="transaction-details">
                            <div class="transaction-name">Bike Petrol</div>
                            <div class="transaction-budget">Budget: ¬•10,000 | Remaining: ¬•8,500</div>
                        </div>
                        <div class="transaction-amount negative">-1,500</div>
                    </div>

                    <div class="transaction-item">
                        <div class="transaction-icon">üëñ</div>
                        <div class="transaction-details">
                            <div class="transaction-name">Pants</div>
                            <div class="transaction-budget">Budget: ¬•5,000 | Remaining: ¬•4,000</div>
                        </div>
                        <div class="transaction-amount negative">-1,000</div>
                    </div>

                    <div class="transaction-item">
                        <div class="transaction-icon">üë§</div>
                        <div class="transaction-details">
                            <div class="transaction-name">Salary</div>
                            <div class="transaction-budget">Monthly Income</div>
                        </div>
                        <div class="transaction-amount positive">¬•60,000</div>
                    </div>
                </div>

                <div class="bottom-nav">
                    <div class="nav-item active" onclick="showScreen('home', this)">
                        <div class="nav-icon">üè†</div>
                        <span>Home</span>
                    </div>
                    <div class="nav-item" onclick="showScreen('add', this)">
                        <div class="nav-icon">üìù</div> <span>Add</span>
                    </div>
                    <div class="nav-item" onclick="showScreen('scan', this)">
                        <div class="nav-icon">üì∑</div>
                        <span>Scan</span>
                    </div>
                    <div class="nav-item" onclick="showScreen('budget', this)">
                        <div class="nav-icon">üí∞</div>
                        <span>Budget</span>
                    </div>
                </div>

                <button class="fab" onclick="showScreen('add', this)">+</button>
            </div>

            <div class="screen" id="add">

                <div class="header">
                    <div class="header-icon" onclick="showScreen('home', this)">‚Üê</div>
                    <h1>Add Expense</h1>
                    <div class="header-icon">üíæ</div>
                </div>

                <div class="form-container">
                    <div class="form-group">
                        <label class="form-label">Amount</label>
                        <input type="number" class="form-input" placeholder="0.00" value="1200">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <input type="text" class="form-input" placeholder="What did you spend on?" value="Lunch at restaurant">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <div class="category-grid">
                            <div class="category-item selected">
                                <div class="category-icon">üçΩÔ∏è</div>
                                <span>Food</span>
                            </div>
                            <div class="category-item">
                                <div class="category-icon">üöó</div>
                                <span>Transport</span>
                            </div>
                            <div class="category-item">
                                <div class="category-icon">üõçÔ∏è</div>
                                <span>Shopping</span>
                            </div>
                            <div class="category-item">
                                <div class="category-icon">üè•</div>
                                <span>Health</span>
                            </div>
                            <div class="category-item">
                                <div class="category-icon">üé¨</div>
                                <span>Entertainment</span>
                            </div>
                            <div class="category-item">
                                <div class="category-icon">üì±</div>
                                <span>Bills</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Date</label>
                        <input type="date" class="form-input" value="2024-08-14">
                    </div>

                    <button class="btn-primary" onclick="showScreen('home', this)">Add Expense</button>
                </div>
            </div>

            <div class="screen" id="scan">

                <div class="header">
                    <div class="header-icon">‚ò∞</div>
                    <h1>Scan Receipt</h1>
                    <div class="header-icon">üí°</div>
                </div>

                <div class="camera-container">
                    <div class="camera-viewfinder">
                        <div class="scan-overlay"></div>
                        <div style="z-index: 2; text-align: center; color: rgba(255,255,255,0.8);">
                            üì∑<br>
                            <small>Point camera at receipt</small>
                        </div>
                    </div>
                </div>

                <div class="scan-controls">
                    <button class="scan-btn" onclick="simulateScan()" style="background: #6c757d;">üìÅ</button>
                    <button class="scan-btn" onclick="simulateScan()">üì∑</button>
                    <button class="scan-btn" onclick="toggleFlash()" style="background: #6c757d;">üí°</button>
                </div>

                <div class="scan-options">
                    <div class="scan-option">
                        <div class="scan-option-icon">üßæ</div>
                        <span>Receipt</span>
                    </div>
                    <div class="scan-option">
                        <div class="scan-option-icon">üìÑ</div>
                        <span>Invoice</span>
                    </div>
                    <div class="scan-option">
                        <div class="scan-option-icon">üé´</div>
                        <span>Ticket</span>
                    </div>
                    <div class="scan-option">
                        <div class="scan-option-icon">üí≥</div>
                        <span>Card</span>
                    </div>
                </div>

                <div class="recent-scans">
                    <h3>Recent Scans</h3>

                    <div class="scan-item" onclick="showScanResult('grocery')">
                        <div class="scan-thumbnail">üõí</div>
                        <div class="scan-details">
                            <div class="scan-name">Grocery Store Receipt</div>
                            <div class="scan-date">Today, 2:30 PM</div>
                        </div>
                        <div class="scan-amount">-¬•1,247</div>
                    </div>

                    <div class="scan-item" onclick="showScanResult('coffee')">
                        <div class="scan-thumbnail">‚òï</div>
                        <div class="scan-details">
                            <div class="scan-name">Cafe Central</div>
                            <div class="scan-date">Today, 10:15 AM</div>
                        </div>
                        <div class="scan-amount">-¬•350</div>
                    </div>

                    <div class="scan-item" onclick="showScanResult('gas')">
                        <div class="scan-thumbnail">‚õΩ</div>
                        <div class="scan-details">
                            <div class="scan-name">Gas Station Receipt</div>
                            <div class="scan-date">Yesterday, 6:45 PM</div>
                        </div>
                        <div class="scan-amount">-¬•2,100</div>
                    </div>
                </div>

                <div class="bottom-nav">
                    <div class="nav-item" onclick="showScreen('home', this)">
                        <div class="nav-icon">üè†</div>
                        <span>Home</span>
                    </div>
                    <div class="nav-item" onclick="showScreen('add', this)">
                        <div class="nav-icon">üìù</div> <span>Add</span>
                    </div>
                    <div class="nav-item active" onclick="showScreen('scan', this)">
                        <div class="nav-icon">üì∑</div>
                        <span>Scan</span>
                    </div>
                    <div class="nav-item" onclick="showScreen('budget', this)">
                        <div class="nav-icon">üí∞</div>
                        <span>Budget</span>
                    </div>
                </div>
            </div>

            <div class="screen" id="budget">

                <div class="header">
                    <div class="header-icon">‚ò∞</div>
                    <h1>Budget</h1>
                    <div class="header-icon">‚ûï</div>
                </div>

                <div class="summary-cards">
                    <div class="summary-card">
                        <h3>Total Budget</h3>
                        <p>¬•50,000</p>
                    </div>
                    <div class="summary-card">
                        <h3>Spent</h3>
                        <p>¬•25,430</p>
                    </div>
                    <div class="summary-card">
                        <h3>Remaining</h3>
                        <p>¬•24,570</p>
                    </div>
                </div>

                <div class="transaction-list">
                    <div class="budget-item">
                        <div class="transaction-icon">üçΩÔ∏è</div>
                        <div class="budget-progress">
                            <div class="budget-name">Food & Dining</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 76%"></div>
                            </div>
                            <div class="budget-amounts">¬•11,450 of ¬•15,000</div>
                        </div>
                        <div class="transaction-amount">76%</div>
                    </div>

                    <div class="budget-item">
                        <div class="transaction-icon">üöó</div>
                        <div class="budget-progress">
                            <div class="budget-name">Transportation</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 64%"></div>
                            </div>
                            <div class="budget-amounts">¬•6,350 of ¬•10,000</div>
                        </div>
                        <div class="transaction-amount">64%</div>
                    </div>

                    <div class="budget-item">
                        <div class="transaction-icon">üõçÔ∏è</div>
                        <div class="budget-progress">
                            <div class="budget-name">Shopping</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 51%"></div>
                            </div>
                            <div class="budget-amounts">¬•5,080 of ¬•10,000</div>
                        </div>
                        <div class="transaction-amount">51%</div>
                    </div>

                    <div class="budget-item">
                        <div class="transaction-icon">üé¨</div>
                        <div class="budget-progress">
                            <div class="budget-name">Entertainment</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 30%"></div>
                            </div>
                            <div class="budget-amounts">¬•1,500 of ¬•5,000</div>
                        </div>
                        <div class="transaction-amount">30%</div>
                    </div>
                </div>

                <div class="bottom-nav">
                    <div class="nav-item" onclick="showScreen('home', this)">
                        <div class="nav-icon">üè†</div>
                        <span>Home</span>
                    </div>
                    <div class="nav-item" onclick="showScreen('add', this)">
                        <div class="nav-icon">üìù</div> <span>Add</span>
                    </div>
                    <div class="nav-item" onclick="showScreen('scan', this)">
                        <div class="nav-icon">üì∑</div>
                        <span>Scan</span>
                    </div>
                    <div class="nav-item active" onclick="showScreen('budget', this)">
                        <div class="nav-icon">üí∞</div>
                        <span>Budget</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let flashOn = false;

        function showScreen(screenId, clickedElement) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });

            // Show selected screen
            document.getElementById(screenId).classList.add('active');

            // Update nav item states
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
            });

            // If a nav item or FAB was clicked, activate it
            if (clickedElement && clickedElement.classList.contains('nav-item')) {
                clickedElement.classList.add('active');
            } else if (clickedElement && clickedElement.classList.contains('fab')) {
                // If FAB is clicked, activate the 'Add' nav item if it exists
                const addNavItem = document.querySelector('.nav-item[onclick*="showScreen(\'add\')"]');
                if (addNavItem) {
                    addNavItem.classList.add('active');
                }
            } else if (screenId === 'home') { // Set Home as active if navigated via back arrow
                const homeNavItem = document.querySelector('.nav-item[onclick*="showScreen(\'home\')"]');
                if (homeNavItem) {
                    homeNavItem.classList.add('active');
                }
            }
        }

        // Add click handlers for category selection
        document.querySelectorAll('.category-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.category-item').forEach(cat => {
                    cat.classList.remove('selected');
                });
                this.classList.add('selected');
            });
        });

        // Scan functionality
        function simulateScan() {
            const viewfinder = document.querySelector('.camera-viewfinder');
            const overlay = document.querySelector('.scan-overlay');

            // Add processing animation
            viewfinder.classList.add('processing');
            overlay.style.borderColor = '#27ae60';
            overlay.style.animation = 'pulse 0.5s infinite';

            // Simulate processing
            setTimeout(() => {
                viewfinder.classList.remove('processing');
                overlay.style.borderColor = '#ff9a56';
                overlay.style.animation = 'pulse 2s infinite';

                // Show success message
                const successMsg = document.createElement('div');
                successMsg.innerHTML = '‚úÖ Receipt scanned successfully!';
                successMsg.style.position = 'absolute';
                successMsg.style.top = '50%';
                successMsg.style.left = '50%';
                successMsg.style.transform = 'translate(-50%, -50%)';
                successMsg.style.background = 'rgba(39, 174, 96, 0.9)';
                successMsg.style.color = 'white';
                successMsg.style.padding = '12px 20px';
                successMsg.style.borderRadius = '8px';
                successMsg.style.fontSize = '14px';
                successMsg.style.zIndex = '10';

                document.querySelector('.camera-container').appendChild(successMsg);

                // Remove success message and add to recent scans
                setTimeout(() => {
                    successMsg.remove();
                    addRecentScan();
                }, 2000);

            }, 2000);
        }

        function toggleFlash() {
            flashOn = !flashOn;
            const flashBtn = document.querySelector('.scan-controls .scan-btn:last-child');
            if (flashOn) {
                flashBtn.style.background = '#ffa726';
                flashBtn.innerHTML = 'üí°';
            } else {
                flashBtn.style.background = '#6c757d';
                flashBtn.innerHTML = 'üí°';
            }
        }

        function addRecentScan() {
            const recentScans = document.querySelector('.recent-scans');
            const newScan = document.createElement('div');
            newScan.className = 'scan-item';
            newScan.onclick = () => showScanResult('new');

            const now = new Date();
            const timeStr = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});

            newScan.innerHTML = `
                <div class="scan-thumbnail">üÜï</div>
                <div class="scan-details">
                    <div class="scan-name">New Receipt Scan</div>
                    <div class="scan-date">Today, ${timeStr}</div>
                </div>
                <div class="scan-amount">Processing...</div>
            `;

            // Insert as first item after the h3
            recentScans.insertBefore(newScan, recentScans.children[1]);

            // Simulate processing and update amount
            setTimeout(() => {
                const amount = Math.floor(Math.random() * 2000) + 100;
                newScan.querySelector('.scan-amount').textContent = `-¬•${amount}`;
                newScan.querySelector('.scan-thumbnail').textContent = 'üßæ';
                newScan.querySelector('.scan-name').textContent = 'Restaurant Receipt';
            }, 3000);
        }

        function showScanResult(type) {
            // This would typically navigate to a scan result detail screen
            // For now, we'll just show an alert
            const messages = {
                'grocery': 'Grocery receipt processed!\nAmount: ¬•1,247\nItems: 12\nCategory: Food & Dining',
                'coffee': 'Cafe receipt processed!\nAmount: ¬•350\nItems: 2\nCategory: Food & Dining',
                'gas': 'Gas station receipt processed!\nAmount: ¬•2,100\nCategory: Transportation',
                'new': 'Processing receipt...\nPlease wait for details to be extracted.'
            };

            alert(messages[type] || 'Receipt details will be shown here');
        }

        // Add some interactive animations
        document.querySelectorAll('.scan-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.scan-option').forEach(opt => {
                    opt.style.background = '';
                });
                this.style.background = '#fff5f0';
                this.style.borderRadius = '12px';

                setTimeout(() => {
                    this.style.background = '';
                }, 1000);
            });
        });

        // Calendar and Date Picker functions
        function openDatePicker() {
            document.getElementById('datePicker').showPicker();
        }

        function updateDisplayedDate() {
            const datePicker = document.getElementById('datePicker');
            const displayDate = document.getElementById('displayDate');
            const selectedDate = new Date(datePicker.value);

            if (!isNaN(selectedDate.getTime())) { // Check if it's a valid date
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                displayDate.textContent = 'üìÖ ' + selectedDate.toLocaleDateString('en-US', options);
            }
        }

        // Initialize the date picker with the current displayed date
        document.addEventListener('DOMContentLoaded', () => {
            const displayDateElement = document.getElementById('displayDate');
            const datePickerElement = document.getElementById('datePicker');

            // Attempt to parse the initial date from the displayDate element
            const initialDateText = displayDateElement.textContent.replace('üìÖ ', '');
            const initialDate = new Date(initialDateText);

            if (!isNaN(initialDate.getTime())) {
                const year = initialDate.getFullYear();
                const month = (initialDate.getMonth() + 1).toString().padStart(2, '0');
                const day = initialDate.getDate().toString().padStart(2, '0');
                datePickerElement.value = `${year}-${month}-${day}`;
            }
        });
    </script>
</body>
</html>